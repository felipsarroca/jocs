<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <title>Sudoku</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#ff9f43">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <meta name="description" content="Sudoku educatiu amb notes, conflictes i temporitzador">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
</head>
<body>
  <header>
    <div class="topbar">
      <h1 id="app-title">Sudoku</h1>
      <div class="top-actions">
        <button id="info-btn" class="icon-btn" title="Informaci√≥" aria-label="Informaci√≥">
          <span class="icon" aria-hidden="true">‚ÑπÔ∏è</span>
        </button>
        <button id="options-btn" class="icon-btn" title="Opcions" aria-label="Opcions">
          <span class="icon" aria-hidden="true">‚öôÔ∏è</span>
        </button>
      </div>
    </div>
    <div id="level-selector"></div>
  </header>

  <main>
    <div id="status-indicators">
      <div id="timer-container">
        <span class="icon">‚è±Ô∏è</span>
        <span id="timer" aria-label="temporitzador">00:00</span>
      </div>
      <div id="best-time-container">
        <span class="icon">üèÜ</span>
        <span id="best-time" aria-label="millor temps">--:--</span>
      </div>
    </div>

    <div id="full-board-controls">
      <div id="sudoku-grid" class="grid" role="grid" aria-label="Tauler de Sudoku 9 per 9"></div>
      <div id="mobile-keypad" class="keypad" aria-label="Teclat num√®ric">
        <button data-num="1">1</button>
        <button data-num="2">2</button>
        <button data-num="3">3</button>
        <button data-num="4">4</button>
        <button data-num="5">5</button>
        <button data-num="6">6</button>
        <button data-num="7">7</button>
        <button data-num="8">8</button>
        <button data-num="9">9</button>
        <button data-num="0" id="erase-btn" title="Esborrar">
          <span class="icon">üóëÔ∏è</span>
        </button>
      </div>
    </div>

    <div id="digit-counters" aria-label="Comptador de d√≠gits restants"></div>
    <span id="status-message" role="status" aria-live="polite"></span>

    <div class="actions">
      <div class="main-actions">
        <button id="new-game-btn" type="button" class="btn-3d"><span class="icon" aria-hidden="true">‚ú®</span><span class="label">Nou</span></button>
        <button id="check-btn" type="button" class="btn-3d"><span class="icon" aria-hidden="true">‚úîÔ∏è</span><span class="label">Comprova</span></button>
        <button id="hint-btn" type="button" class="btn-3d" title="Pista"><span class="icon" aria-hidden="true">üí°</span><span class="label">Pista</span></button>
      </div>
      <div class="toggle-actions">
        <button id="notes-btn" type="button" class="toggle btn-3d"><span class="icon" aria-hidden="true">‚úèÔ∏è</span><span class="label">Notes</span></button>
        <button id="feedback-btn" type="button" class="toggle btn-3d"><span class="icon" aria-hidden="true">‚ö°</span><span class="label">Feedback</span></button>
      </div>
      <div class="secondary-actions">
        <button id="undo-btn" type="button" class="icon-btn" title="Desf√©s"><span class="icon">‚Ü©Ô∏è</span></button>
        <button id="redo-btn" type="button" class="icon-btn" title="Ref√©s"><span class="icon">‚Ü™Ô∏è</span></button>
      </div>
    </div>
  </main>

  <!-- Opcions Modal -->
  <div id="options-modal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="options-title">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="options-title">Opcions</h2>
        <button class="icon-btn modal-close" data-close="options-modal" aria-label="Tanca">‚úñ</button>
      </div>
      <div class="modal-body">
        <div class="option-item">
          <span class="icon">‚úèÔ∏è</span>
          <div class="text">
            <strong>Mode Notes</strong>
            <small>Activa les anotacions 3√ó3</small>
          </div>
          <label class="switch">
            <input type="checkbox" id="opt-notes">
            <span class="slider"></span>
          </label>
        </div>
        <div class="option-item">
          <span class="icon">‚ö°</span>
          <div class="text">
            <strong>Feedback Immediat</strong>
            <small>Mostra conflictes a l‚Äôinstant</small>
          </div>
          <label class="switch">
            <input type="checkbox" id="opt-feedback">
            <span class="slider"></span>
          </label>
        </div>
        <div class="option-item">
          <span class="icon">üé®</span>
          <div class="text">
            <strong>Tema de Colors</strong>
            <small>Canvia l'aparen√ßa de l'app</small>
          </div>
          <div class="segmented">
            <button data-view="classic" class="seg">Cl√†ssic</button>
            <button data-view="contrast" class="seg">Contrast</button>
            <button data-view="dark" class="seg">Fosc</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Info Modal -->
  <div id="info-modal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="info-title">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="info-title">Informaci√≥</h2>
        <button class="icon-btn modal-close" data-close="info-modal" aria-label="Tanca">‚úñ</button>
      </div>
      <div class="modal-body info-grid">
        <div class="card">
          <div class="icon">‚ú®</div>
          <div class="title">Nou Sudoku</div>
          <div class="desc">Genera un nou tauler instant√†niament.</div>
        </div>
        <div class="card">
          <div class="icon">‚úîÔ∏è</div>
          <div class="title">Comprova</div>
          <div class="desc">Valida el tauler i marca errors.</div>
        </div>
        <div class="card">
          <div class="icon">üí°</div>
          <div class="title">Pista</div>
          <div class="desc">Omple una casella correcta aleat√≤ria.</div>
        </div>
        <div class="card">
          <div class="icon">‚úèÔ∏è</div>
          <div class="title">Notes</div>
          <div class="desc">Mostra candidats 1‚Äì9 a cada casella.</div>
        </div>
        <div class="card">
          <div class="icon">‚ö°</div>
          <div class="title">Feedback</div>
          <div class="desc">Mostra conflictes al moment o en verificar.</div>
        </div>
        <div class="card">
          <div class="icon">üëÅÔ∏è</div>
          <div class="title">Visualitzaci√≥</div>
          <div class="desc">Cl√†ssic, Alt contrast o Mode fosc.</div>
        </div>
      </div>
    </div>
  </div>

  <footer>
    <p>Aplicaci√≥ creada per <strong>Felip Sarroca</strong> amb l'assist√®ncia de la IA.</p>
    <p>
      <img src="assets/cc-by-nc-sa.svg" alt="Llic√®ncia Creative Commons" class="cc-logo">
      <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">
        CC BY-NC-SA 4.0
      </a>
    </p>
  </footer>

  <script src="script.js"></script>
  
</body>
</html>
